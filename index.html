<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Plant Info â€” Nature Club</title>
  <style>
    :root{
      --bg:#041018;
      --card:#07232b;
      --accent:#ff5f6d;
      --muted:#9fb3b6;
      --glass:rgba(255,255,255,0.03)
    }
    *{box-sizing:border-box;font-family:Inter, system-ui, Arial, sans-serif}
    body{
      margin:0;
      background:linear-gradient(180deg,#01121a 0%, #042a30 100%);
      color:#e6f7f2;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:space-between;
      padding:20px
    }
    .container{
      width:100%;
      max-width:720px;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius:14px;
      padding:20px;
      box-shadow:0 8px 30px rgba(0,0,0,0.6)
    }
    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      position:relative;
    }
    .logo{
      width:85px;
      height:auto;
    }
    .plant-header{
      flex:1;
      text-align:center;
    }
    .plant-title{font-size:28px;font-weight:700;letter-spacing:0.4px;margin-bottom:4px}
    .meta{color:var(--muted);font-size:14px}
    .sidebar{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:18px;
      border-radius:12px;
      margin-top:18px;
    }
    .species{font-size:16px;color:var(--muted);margin-bottom:8px}
    .desc{font-size:15px;line-height:1.6;color:#d9f3ec;white-space:pre-line}
    .audio-panel{margin-top:16px;display:flex;flex-direction:column;gap:10px}
    .play-btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 14px;
      border-radius:10px;
      background:linear-gradient(90deg,var(--accent),#ff7e67);
      color:#022;
      cursor:pointer;
      border:none;
      font-weight:600
    }
    .small{font-size:13px;color:var(--muted)}
    .qr-sample{
      margin-top:12px;
      background:rgba(255,255,255,0.02);
      padding:8px;
      border-radius:8px;
      text-align:center
    }
    footer{
      margin-top:24px;
      color:var(--muted);
      font-size:17px;
      text-align:center;
      padding:10px;
    }
  </style>
</head>
<body>
  <div class="container" id="app">
    <header>
      <img src="assets/Trcaclogo.png" alt="Left Logo" class="logo">
      <div class="plant-header">
        <div class="plant-title" id="plantName">Plant</div>
        <div class="meta" id="plantLatin"></div>
      </div>
      <img src="assets/Green_club.jpg" alt="Right Logo" class="logo">
    </header>

    <aside class="sidebar">
      <div class="species" id="speciesLine">Loading plant...</div>
      <div class="desc" id="desc">Description will appear here.</div>

      <div class="audio-panel">
        <audio id="audio" preload="metadata"></audio>
        <div style="display:flex;gap:8px;align-items:center">
          <button id="playBtn" class="play-btn">Play Audio</button>
          <div class="small" id="autoplayInfo">Will attempt autoplay in 3s</div>
        </div>

        <div class="qr-sample small">
          QR opened: <span id="openedUrl"></span>
        </div>
      </div>
    </aside>

    <div style="margin-top:14px;color:var(--muted);font-size:13px">Tip: If autoplay is blocked, tap Play.</div>
  </div>

  <footer>
    Developed and Managed by <strong>Dev Club</strong>
  </footer>

  <script>
    const PLANTS = {
      strawberry: {
        title: 'Strawberry Plant',
        latin: 'Fragaria Ã— ananassa',
        desc: `
A sweet, red, heart-shaped fruit known for its juicy flavor and delightful aroma.

ðŸŒ¿ Estimated Oxygen Release Rate:
Around 3â€“5 liters of oxygen per day, depending on sunlight, plant health, and number of leaves.
Strawberry plants also help purify the air and absorb harmful gases, making them excellent additions to gardens and balconies.

âœ¨ Attractive & Interesting Uses:

1ï¸âƒ£ Delicious & Nutritious Fruit:
Strawberries are rich in vitamin C, antioxidants, and fiber.
They can be eaten fresh, used in juices, jams, cakes, desserts, or even salads â€” making them both healthy and tasty!

2ï¸âƒ£ Beautiful Garden Plant:
With their lush green leaves, white flowers, and bright red fruits, strawberry plants are perfect for balconies, hanging pots, or kitchen gardens.

ðŸŒ¸ Fun Fact:
Each strawberry isnâ€™t a single fruit â€” itâ€™s a cluster of tiny fruits (called achenes) on the surface of the red flesh!
        `,
        audio: 'assets/strawberry.mp3'
      }
    };

    // ------- Core logic -------
    function getParam(name){const url=new URL(location.href);return url.searchParams.get(name);}
    const id=getParam('id')||'strawberry'; 
    const plant=PLANTS[id];
    const openedUrlSpan=document.getElementById('openedUrl'); 
    openedUrlSpan.textContent=location.href;

    if(!plant){
      document.getElementById('plantName').textContent='Plant not found';
      document.getElementById('desc').textContent='No data for id: '+id;
      throw new Error('Plant data missing for id: '+id);
    }

    document.getElementById('plantName').textContent=plant.title;
    document.getElementById('plantLatin').textContent=plant.latin||'';
    document.getElementById('speciesLine').textContent=(plant.latin?plant.title+' â€” '+plant.latin:plant.title);
    document.getElementById('desc').textContent=plant.desc||'';

    // ---- Audio Logic ----
    const audio=document.getElementById('audio'); 
    audio.src=plant.audio; 
    audio.crossOrigin='anonymous';
    const autoplayInfo=document.getElementById('autoplayInfo');
    const playBtn=document.getElementById('playBtn');

    function attemptAutoplay(){
      autoplayInfo.textContent='Attempting autoplay in 3s...';
      setTimeout(async()=>{
        try{
          await audio.play();
          autoplayInfo.textContent='Playing automatically';
          playBtn.textContent='Pause';
        }catch(err){
          autoplayInfo.textContent='Autoplay blocked â€” tap Play';
          playBtn.textContent='Play Audio';
        }
      },3000);
    }

    playBtn.addEventListener('click',async()=>{
      if(audio.paused){
        try{
          await audio.play();
          playBtn.textContent='Pause';
          autoplayInfo.textContent='Playing';
        }catch(e){
          autoplayInfo.textContent='Unable to play';
        }
      }else{
        audio.pause();
        playBtn.textContent='Play Audio';
        autoplayInfo.textContent='Paused';
      }
    });

    attemptAutoplay();
  </script>
</body>
</html>
